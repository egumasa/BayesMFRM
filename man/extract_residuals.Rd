% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fit_stats.R, R/old_codes.R
\name{extract_residuals}
\alias{extract_residuals}
\title{Extract residual info from a cmdstanr fit (with optional posterior draws)}
\usage{
extract_residuals(
  fit,
  stan_data,
  facet_cols = NULL,
  save_draws = TRUE,
  model_name = deparse(substitute(fit))
)

extract_residuals(
  fit,
  stan_data,
  facet_cols = NULL,
  save_draws = TRUE,
  model_name = deparse(substitute(fit))
)
}
\arguments{
\item{fit}{cmdstanr fit object (must have mu\link[dplyr:context]{dplyr::n}, sigma2\link[dplyr:context]{dplyr::n} in GQ)}

\item{stan_data}{list with X and one or more facet columns}

\item{facet_cols}{which columns from stan_data are facets}

\item{save_draws}{if TRUE, save posterior draws of mu and sigma2 per obs}

\item{model_name}{optional model label}
}
\value{
tibble with:
n, x, mu_hat, sigma2_hat, resid, z, weight, model,
facet columns,
and (if save_draws=TRUE):
mu_draws\link[dplyr:context]{dplyr::n}      list-column of length-D vectors
sigma2_draws\link[dplyr:context]{dplyr::n}  list-column of length-D vectors

tibble with:
n, x, mu_hat, sigma2_hat, resid, z, weight, model,
facet columns,
and (if save_draws=TRUE):
mu_draws\link[dplyr:context]{dplyr::n}      list-column of length-D vectors
sigma2_draws\link[dplyr:context]{dplyr::n}  list-column of length-D vectors
}
\description{
Extract residual info from a cmdstanr fit (with optional posterior draws)

Extract residual info from a cmdstanr fit (with optional posterior draws)
}
